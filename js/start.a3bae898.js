(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["start"],{"159b":function(e,t,i){var r=i("da84"),s=i("fdbc"),n=i("17c2"),o=i("9112");for(var a in s){var u=r[a],c=u&&u.prototype;if(c&&c.forEach!==n)try{o(c,"forEach",n)}catch(l){c.forEach=n}}},"17c2":function(e,t,i){"use strict";var r=i("b727").forEach,s=i("b301");e.exports=s("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"2a53":function(e,t,i){},4160:function(e,t,i){"use strict";var r=i("23e7"),s=i("17c2");r({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},b301:function(e,t,i){"use strict";var r=i("d039");e.exports=function(e,t){var i=[][e];return!i||!r((function(){i.call(null,t||function(){throw 1},1)}))}},c52c:function(e,t,i){"use strict";var r=i("2a53"),s=i.n(r);s.a},d701:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.noWorkoutFound?i("b-container",[i("b-row",[i("b-col",{staticClass:"text-center text-danger"},[i("h2",[e._v("No workout was found")]),i("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:["far","frown"],size:"5x",title:"Sad face"}})],1)],1)],1):e._e(),e.noWorkoutFound?e._e():i("b-container",{staticClass:"timer"},[i("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.workout.id,expression:"!workout.id"}]}),e.workout.id?i("b-row",[e.isUserReady?e._e():i("b-col",[i("h2",{staticClass:"text-center mb-4 text-info"},[i("em",[e._v(e._s(e.workout.name))])]),i("h3",{staticClass:"text-center mb-4"},[e._v("Are you Ready?")]),i("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.user.id,expression:"!user.id"}]}),e.user.id?i("b-button",{attrs:{block:"",size:"lg",variant:"primary"},on:{click:function(t){return e.start()}}},[e._v(" Start! ")]):e._e()],1),e.isUserReady?i("b-col",{staticClass:"text-center mb-3"},[i("b-row",{staticClass:"header mb-4"},[i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem-1>=0,expression:"currentItem - 1 >= 0"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.previous()}}},[e._v("Previous")])],1),i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem+1<e.timeline.length,expression:"currentItem + 1 < timeline.length"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.next()}}},[e._v("Next")])],1)],1),"undefined"!==typeof e.timeline[e.currentItem]&&e.timeline[e.currentItem].id?i("div",{staticClass:"h1 pt-4 mb-4 itemName text-warning"},[e._v(e._s(e.timeline[e.currentItem].name))]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof e.timeline[e.currentItem]&&!e.timeline[e.currentItem].id&&e.currentItem<e.timeline.length,expression:"typeof timeline[currentItem] !== 'undefined' &&\n            !timeline[currentItem].id && currentItem < timeline.length"}],staticClass:"h1 pt-4 mb-4 itemName text-success"},[e._v("Rest time")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currentItem===e.timeline.length,expression:"currentItem === timeline.length"}],staticClass:"h2 text-success pt-5"},[i("p",[i("font-awesome-icon",{attrs:{size:"3x",icon:["far","grin-stars"]}})],1),i("p",[e._v(" Congratulations ")]),i("p",[e._v(" You're done! ")])]),e.currentItem<e.timeline.length?i("div",{staticClass:"h1 timeLeft text-light",class:e.timer.remaining&&!0===e.timer.paused?"timeLeft--active":""},[e._v(" "+e._s(e.printTimeLeft())+" ")]):e._e(),"undefined"!==typeof e.timeline[e.currentItem+1]&&e.timeline[e.currentItem+1].name?i("div",{staticClass:"h1 pt-4 text-muted"},[e._v(" Next up:"),i("br"),e._v(e._s(e.timeline[e.currentItem+1].name)+" ")]):e._e(),e.currentItem+1<=e.timeline.length?i("div",{staticClass:"text-muted mt-5"},[e._v(" "+e._s(e.currentItem+1)+" of "+e._s(e.timeline.length)+" ")]):e._e(),i("div",{staticClass:"footer"},[i("b-progress",{attrs:{value:e.progress,variant:"success",striped:"",animated:e.progressAnimation}}),i("div",{staticClass:"footerActions d-flex align-items-stretch"},[i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{attrs:{variant:"danger",size:"lg",block:""},on:{click:function(t){return e.stop()}}},[e._v("STOP")])],1),i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.timer.paused,expression:"!timer.paused"}],attrs:{variant:"warning",size:"lg",block:""},on:{click:function(t){return e.pause()}}},[e._v("PAUSE")]),i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.timer.paused,expression:"timer.paused"}],attrs:{variant:"success",size:"lg",block:""},on:{click:function(t){return e.resume()}}},[e._v("RESUME")])],1)])],1)],1):e._e()],1):e._e()],1)],1)},s=[],n=(i("7db0"),i("4160"),i("e25e"),i("159b"),i("59ca")),o=i.n(n),a=i("17e1"),u=i("555f"),c=i("940c"),l={maxRecentWorkouts:3},m={prevent:function(){this._video||this._init(),this._video.setAttribute("loop","loop"),this._video.play()},allow:function(){this._video&&(this._video.removeAttribute("loop"),this._video.pause())},_init:function(){this._video=document.createElement("video"),this._video.setAttribute("playsinline",!0),this._video.setAttribute("width","10"),this._video.setAttribute("height","10"),this._video.style.position="absolute",this._video.style.top="-10px",this._video.style.left="-10px";var e=document.createElement("source");e.setAttribute("src","/videos/muted-blank.mp4"),e.setAttribute("type","video/mp4"),this._video.appendChild(e);var t=document.createElement("source");t.setAttribute("src","/videos/muted-blank.ogv"),t.setAttribute("type","video/ogg"),this._video.appendChild(t),document.body.appendChild(this._video)},_video:null},h={components:{Loader:u["a"]},data:function(){return{currentItem:0,currentLevel:{},currentGoal:{},isUserReady:!1,noWorkoutFound:!1,timer:{totalTime:0,timerId:{},start:{},remaining:null,paused:!0},user:{},users:[],workout:{},timeline:[]}},firebase:{users:a["a"].ref(c["a"].users),exercises:a["a"].ref(c["a"].exercises),workoutGoals:a["a"].ref(c["a"].workoutGoals),workoutLevels:a["a"].ref(c["a"].workoutLevels)},mounted:function(){var e=this,t=parseInt(this.$route.params.workout_id,10);t?o.a.database().ref(c["a"].workouts).once("value").then((function(i){e.workout=i.val().find((function(e){return e.id===t})),e.workout||(e.noWorkoutFound=!0),o.a.database().ref(c["a"].users).once("value").then((function(t){e.user=t.val().find((function(e){return e.email===o.a.auth().currentUser.email}))}))})):this.noWorkoutFound=!0},computed:{progress:function(){var e=0;if(this.currentItem===this.timeline.length)return 100;for(var t=0;t<this.currentItem;t++)this.timeline[t].id?e+=this.currentLevel.activeTime:e+=this.currentLevel.restTime;return Math.floor(100*e/+this.timer.totalTime)},progressAnimation:function(){return this.currentItem!==this.timeline.length}},methods:{pauseAndClear:function(){this.timer.paused=!0,window.clearTimeout(this.timer.timerId),this.timer.remaining=null},next:function(){this.pauseAndClear(),this.currentItem+1<this.timeline.length&&this.currentItem++,this.resume()},previous:function(){this.pauseAndClear(),this.currentItem--,this.resume()},start:function(){var e=this;m.prevent(),1===this.workout.type?this.currentLevel=this.workoutLevels.find((function(t){return t.id===e.user.level})):2===this.workout.type&&(this.currentGoal=this.workoutGoals.find((function(t){return t.id===e.user.goal})));for(var t=0,i=this.workout.rounds.length;t<i;t++)for(var r=1,s=this.workout.rounds[t].repeats;r<=s;r++)this.workout.rounds[t].exercises.forEach((function(t){e.timeline.push(e.exercises.find((function(e){return e.id===t}))),e.timer.totalTime=e.timer.totalTime+e.currentLevel.activeTime,1===e.workout.type&&(e.timeline.push(e.currentLevel.restTime),e.timer.totalTime=e.timer.totalTime+e.currentLevel.restTime)}));this.timeline.pop(),this.timer.totalTime=this.timer.totalTime-this.currentLevel.restTime,this.isUserReady=!0,this.resume(),this.updateUserWorkout()},updateUserWorkout:function(){this.user.recentWorkouts||(this.user.recentWorkouts=[]),this.user.recentWorkouts&&this.user.recentWorkouts.length===l.maxRecentWorkouts&&this.user.recentWorkouts.pop(),this.user.recentWorkouts.unshift(this.workout.id),this.saveProfile()},saveProfile:function(){var e=this;this.users.forEach((function(t,i){t.id===e.user.id&&(e.users[i]=e.user)})),o.a.database().ref(c["a"].users).set(this.users)},resume:function(){var e=this;this.timer.paused=!1,null!==this.timer.remaining&&0!==this.timer.remaining||(this.timeline[this.currentItem].id?this.timer.remaining=this.currentLevel.activeTime:this.timer.remaining=this.timeline[this.currentItem]),this.timer.timerId=window.setTimeout((function(){e.timer.remaining>0?(e.resume(),e.timer.remaining=e.timer.remaining-1e3):(e.currentItem++,e.currentItem<e.timeline.length?e.resume():e.pauseAndClear())}),1e3)},pause:function(){m.allow(),this.timer.paused=!0,window.clearTimeout(this.timer.timerId)},stop:function(){this.$router.go(this.$router.currentRoute)},printTimeLeft:function(){return this.timer.remaining>=0?"".concat(this.timer.remaining/1e3,'"'):""}}},d=h,v=(i("c52c"),i("2877")),f=Object(v["a"])(d,r,s,!1,null,"3e68d959",null);t["default"]=f.exports},e25e:function(e,t,i){var r=i("23e7"),s=i("e583");r({global:!0,forced:parseInt!=s},{parseInt:s})},e583:function(e,t,i){var r=i("da84"),s=i("58a8").trim,n=i("5899"),o=r.parseInt,a=/^[+-]?0[Xx]/,u=8!==o(n+"08")||22!==o(n+"0x16");e.exports=u?function(e,t){var i=s(String(e));return o(i,t>>>0||(a.test(i)?16:10))}:o},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);