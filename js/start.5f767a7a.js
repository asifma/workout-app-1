(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["start"],{"1b81":function(e,t,i){"use strict";var r=i("55a3"),n=i.n(r);n.a},"555f":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loader"})},n=[],s=(i("9a64"),i("2877")),o={},a=Object(s["a"])(o,r,n,!1,null,"74161296",null);t["a"]=a.exports},"55a3":function(e,t,i){},"9a64":function(e,t,i){"use strict";var r=i("eebd"),n=i.n(r);n.a},ac6a:function(e,t,i){for(var r=i("cadf"),n=i("0d58"),s=i("2aba"),o=i("7726"),a=i("32e9"),u=i("84f2"),l=i("2b4c"),c=l("iterator"),m=l("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=n(h),f=0;f<v.length;f++){var p,w=v[f],b=h[w],g=o[w],_=g&&g.prototype;if(_&&(_[c]||a(_,c,d),_[m]||a(_,m,w),u[w]=d,b))for(p in r)_[p]||s(_,p,r[p],!0)}},d701:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.noWorkoutFound?i("b-container",[i("b-row",[i("b-col",{staticClass:"text-center text-danger"},[i("h2",[e._v("No workout was found")]),i("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:["far","frown"],size:"5x",title:"Sad face"}})],1)],1)],1):e._e(),e.noWorkoutFound?e._e():i("b-container",{staticClass:"timer"},[i("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.workout.id,expression:"!workout.id"}]}),e.workout.id?i("b-row",[e.isUserReady?e._e():i("b-col",[i("h2",{staticClass:"text-center mb-4 text-info"},[i("em",[e._v(e._s(e.workout.name))])]),i("h3",{staticClass:"text-center mb-4"},[e._v("Are you Ready?")]),i("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.user.id,expression:"!user.id"}]}),e.user.id?i("b-button",{attrs:{block:"",size:"lg",variant:"primary"},on:{click:function(t){return e.start()}}},[e._v("\n            Start!\n          ")]):e._e()],1),e.isUserReady?i("b-col",{staticClass:"text-center mb-3"},[i("b-row",{staticClass:"header mb-4"},[i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem-1>=0,expression:"currentItem - 1 >= 0"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.previous()}}},[e._v("Previous")])],1),i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem+1<e.timeline.length,expression:"currentItem + 1 < timeline.length"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.next()}}},[e._v("Next")])],1)],1),"undefined"!==typeof e.timeline[e.currentItem]&&e.timeline[e.currentItem].id?i("div",{staticClass:"h1 pt-4 mb-4 itemName text-warning"},[e._v(e._s(e.timeline[e.currentItem].name))]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof e.timeline[e.currentItem]&&!e.timeline[e.currentItem].id&&e.currentItem<e.timeline.length,expression:"typeof timeline[currentItem] !== 'undefined' &&\n            !timeline[currentItem].id && currentItem < timeline.length"}],staticClass:"h1 pt-4 mb-4 itemName text-success"},[e._v("Rest time")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currentItem===e.timeline.length,expression:"currentItem === timeline.length"}],staticClass:"h2 text-success"},[i("p",[i("font-awesome-icon",{attrs:{size:"3x",icon:["far","grin-stars"]}})],1),i("p",[e._v("\n              Congratulations\n            ")]),i("p",[e._v("\n              You're done!\n            ")])]),e.currentItem<e.timeline.length?i("div",{staticClass:"h1 timeLeft text-light",class:e.timer.remaining&&!0===e.timer.paused?"timeLeft--active":""},[e._v("\n          "+e._s(e.printTimeLeft())+"\n        ")]):e._e(),i("div",{staticClass:"footer"},[i("b-progress",{attrs:{value:e.progress,variant:"success",striped:"",animated:e.progressAnimation}}),i("div",{staticClass:"footerActions d-flex align-items-stretch"},[i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{attrs:{variant:"danger",size:"lg",block:""},on:{click:function(t){return e.stop()}}},[e._v("STOP")])],1),i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.timer.paused,expression:"!timer.paused"}],attrs:{variant:"warning",size:"lg",block:""},on:{click:function(t){return e.pause()}}},[e._v("PAUSE")]),i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.timer.paused,expression:"timer.paused"}],attrs:{variant:"success",size:"lg",block:""},on:{click:function(t){return e.resume()}}},[e._v("RESUME")])],1)])],1)],1):e._e()],1):e._e()],1)],1)},n=[],s=(i("ac6a"),i("7514"),i("59ca")),o=i.n(s),a=i("17e1"),u=i("555f"),l=i("940c"),c={prevent:function(){this._video||this._init(),this._video.setAttribute("loop","loop"),this._video.play()},allow:function(){this._video&&(this._video.removeAttribute("loop"),this._video.pause())},_init:function(){this._video=document.createElement("video"),this._video.setAttribute("playsinline",!0),this._video.setAttribute("width","10"),this._video.setAttribute("height","10"),this._video.style.position="absolute",this._video.style.top="-10px",this._video.style.left="-10px";var e=document.createElement("source");e.setAttribute("src","/videos/muted-blank.mp4"),e.setAttribute("type","video/mp4"),this._video.appendChild(e);var t=document.createElement("source");t.setAttribute("src","/videos/muted-blank.ogv"),t.setAttribute("type","video/ogg"),this._video.appendChild(t),document.body.appendChild(this._video)},_video:null},m={components:{Loader:u["a"]},data:function(){return{currentItem:0,currentLevel:{},currentGoal:{},isUserReady:!1,noWorkoutFound:!1,timer:{elapsed:0,totalTime:0,timerId:{},start:{},remaining:null,paused:!0},user:{},workout:{},timeline:[]}},firebase:{exercises:a["a"].ref(l["a"].exercises),workoutGoals:a["a"].ref(l["a"].workoutGoals),workoutLevels:a["a"].ref(l["a"].workoutLevels)},mounted:function(){var e=this,t=parseInt(this.$route.params.workout_id,10);t?o.a.database().ref(l["a"].workouts).once("value").then(function(i){e.workout=i.val().find(function(e){return e.id===t}),e.workout||(e.noWorkoutFound=!0),o.a.database().ref(l["a"].users).once("value").then(function(t){e.user=t.val().find(function(e){return e.email===o.a.auth().currentUser.email})})}):this.noWorkoutFound=!0},computed:{progress:function(){return Math.floor(100*+this.timer.elapsed/+this.timer.totalTime)},progressAnimation:function(){return this.timer.totalTime!==this.timer.elapsed}},methods:{pauseAndClear:function(){this.timer.paused=!0,window.clearTimeout(this.timer.timerId),this.timer.remaining=null},next:function(){this.pauseAndClear(),this.currentItem+1<this.timeline.length&&this.currentItem++,this.resume()},previous:function(){this.pauseAndClear(),this.currentItem--,this.resume()},start:function(){var e=this;1===this.workout.type?this.currentLevel=this.workoutLevels.find(function(t){return t.id===e.user.level}):2===this.workout.type&&(this.currentGoal=this.workoutGoals.find(function(t){return t.id===e.user.goal}));for(var t=0,i=this.workout.rounds.length;t<i;t++)for(var r=1,n=this.workout.rounds[t].repeats;r<=n;r++)this.workout.rounds[t].exercises.forEach(function(t){e.timeline.push(e.exercises.find(function(e){return e.id===t})),e.timer.totalTime=e.timer.totalTime+e.currentLevel.activeTime,1===e.workout.type&&(e.timeline.push(e.currentLevel.restTime),e.timer.totalTime=e.timer.totalTime+e.currentLevel.restTime)});this.timeline.pop(),this.timer.totalTime=this.timer.totalTime-this.currentLevel.restTime,this.isUserReady=!0,this.resume()},resume:function(){var e=this;this.timer.paused=!1,null!==this.timer.remaining&&0!==this.timer.remaining||(this.timeline[this.currentItem].id?this.timer.remaining=this.currentLevel.activeTime:this.timer.remaining=this.timeline[this.currentItem]),this.timer.timerId=window.setTimeout(function(){e.timer.remaining>0?(e.resume(),e.timer.remaining=e.timer.remaining-1e3,e.timer.elapsed=e.timer.elapsed+1e3):(e.currentItem++,e.currentItem<e.timeline.length?e.resume():e.pauseAndClear())},1e3)},pause:function(){c.allow(),this.timer.paused=!0,window.clearTimeout(this.timer.timerId)},stop:function(){c.prevent(),this.$router.go(this.$router.currentRoute)},printTimeLeft:function(){return this.timer.remaining>=0?"".concat(this.timer.remaining/1e3,'"'):""}}},d=m,h=(i("1b81"),i("2877")),v=Object(h["a"])(d,r,n,!1,null,"32e5500a",null);t["default"]=v.exports},eebd:function(e,t,i){}}]);