(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"159b":function(e,r,t){var a=t("da84"),s=t("fdbc"),n=t("17c2"),o=t("9112");for(var l in s){var i=a[l],c=i&&i.prototype;if(c&&c.forEach!==n)try{o(c,"forEach",n)}catch(u){c.forEach=n}}},"17c2":function(e,r,t){"use strict";var a=t("b727").forEach,s=t("b301");e.exports=s("forEach")?function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},4160:function(e,r,t){"use strict";var a=t("23e7"),s=t("17c2");a({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},b301:function(e,r,t){"use strict";var a=t("d039");e.exports=function(e,r){var t=[][e];return!t||!a((function(){t.call(null,r||function(){throw 1},1)}))}},b4a4:function(e,r,t){},c092:function(e,r,t){"use strict";var a=t("b4a4"),s=t.n(a);s.a},c66d:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.currentDBUser.id,expression:"!currentDBUser.id"}]}),e.currentDBUser&&e.currentDBUser.id?t("b-container",[t("b-row",[t("b-col",{staticClass:"text-center mb-3"},[e.currentDBUser.gravatar?t("b-img",{staticClass:"mb-4 avatar",attrs:{thumbnail:"",fluid:"",rounded:"circle",src:"https://www.gravatar.com/avatar/"+e.currentDBUser.gravatar+"?s=200",alt:"Profile"}}):e._e(),t("h4",[e._v(e._s(e.currentDBUser.name)+" "+e._s(e.currentDBUser.lastname))]),t("small",{staticClass:"text-muted"},[e._v("Last workout: TODO")])],1)],1),t("b-row",[e.workoutGoals.length>0?t("b-col",{staticClass:"mt-3 col-12 col-sm-6 col-lg-4"},[t("b-card",{staticClass:"mb-3 text-center",attrs:{tag:"article","bg-variant":"dark"}},[t("b-card-text",[t("img",{staticClass:"icon mt-2 mb-4",attrs:{src:e.publicPath+"img/icons/goals/"+e.currentDBUser.goal+".svg",alt:"Goal: "+e.goalName(e.currentDBUser.goal),title:"Goal: "+e.goalName(e.currentDBUser.goal)}}),t("h4",{staticClass:"mb-4"},[e._v("Goals")]),e.viewOnlyProfile?e._e():t("b-form",[t("b-form-group",{attrs:{label:"I will become "+e.goalName(e.currentDBUser.goal)}},[t("b-form-input",{attrs:{id:"goal-range",number:"",type:"range",min:e.workoutGoals[0].id,max:e.workoutGoals[e.workoutGoals.length-1].id},model:{value:e.currentDBUser.goal,callback:function(r){e.$set(e.currentDBUser,"goal",r)},expression:"currentDBUser.goal"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.viewOnlyProfile,expression:"viewOnlyProfile"}]},[e._v(" "+e._s(e.currentDBUser.name)+"? No, call me "+e._s(e.goalName(e.currentDBUser.goal))+" ")])],1)],1)],1):e._e(),e.workoutLevels.length>0?t("b-col",{staticClass:"mt-3 col-12 col-sm-6 col-lg-4"},[t("b-card",{staticClass:"mb-3 text-center",attrs:{tag:"article","bg-variant":"dark"}},[t("b-card-text",[t("img",{staticClass:"icon mt-2 mb-4",attrs:{src:e.publicPath+"img/icons/levels/"+e.currentDBUser.level+".svg",alt:"Level: "+e.levelName(e.currentDBUser.level),title:"Level: "+e.levelName(e.currentDBUser.level)}}),t("h4",{staticClass:"mb-4"},[e._v(e._s(e.levelName(e.currentDBUser.level)))]),e.viewOnlyProfile?e._e():t("b-form",[t("b-form-group",{attrs:{label:"Your current level"}},[t("b-form-input",{attrs:{id:"level-range",number:"",type:"range",min:e.workoutLevels[0].id,max:e.workoutLevels[e.workoutLevels.length-1].id},model:{value:e.currentDBUser.level,callback:function(r){e.$set(e.currentDBUser,"level",r)},expression:"currentDBUser.level"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.viewOnlyProfile,expression:"viewOnlyProfile"}]},[t("span",{directives:[{name:"show",rawName:"v-show",value:1===+e.currentDBUser.level,expression:"+currentDBUser.level === 1"}]},[e._v("Just getting started")]),t("span",{directives:[{name:"show",rawName:"v-show",value:2===+e.currentDBUser.level,expression:"+currentDBUser.level === 2"}]},[e._v("Above average")]),t("span",{directives:[{name:"show",rawName:"v-show",value:3===+e.currentDBUser.level,expression:"+currentDBUser.level === 3"}]},[e._v("Unstoppable")])])],1)],1)],1):e._e()],1)],1):e._e()],1)},s=[],n=(t("7db0"),t("4160"),t("b0c0"),t("e25e"),t("159b"),t("59ca")),o=t.n(n),l=t("17e1"),i=t("555f"),c=t("940c"),u={components:{Loader:i["a"]},data:function(){return{publicPath:"/",currentUser:o.a.auth().currentUser,currentDBUser:{},updating:!1,users:[],viewOnlyProfile:!1,workoutGoals:[],workoutLevels:[]}},firebase:{users:l["a"].ref(c["a"].users),workoutGoals:l["a"].ref(c["a"].workoutGoals),workoutLevels:l["a"].ref(c["a"].workoutLevels)},mounted:function(){var e=this,r=parseInt(this.$route.params.user_id,10);o.a.database().ref(c["a"].users).once("value").then((function(t){e.users=t.val();var a=t.val().find((function(r){return r.email===e.currentUser.email}));r!==a.id&&(e.viewOnlyProfile=!0,a=t.val().find((function(e){return e.id===r}))),e.currentDBUser=a}))},methods:{pushProfileSavedMessage:function(){this.$bvToast.toast("Profile saved.",{variant:"success",solid:!0,toaster:"b-toaster-top-left",autoHideDelay:2e3,noCloseButton:!0})},goalName:function(e){if(this.workoutGoals){var r=this.workoutGoals.find((function(r){return r.id===parseInt(e,10)}));if(r)return r.name}return""},levelName:function(e){if(this.workoutLevels){var r=this.workoutLevels.find((function(r){return r.id===parseInt(e,10)}));if(r)return r.name}return""},saveProfile:function(){var e=this;this.users.forEach((function(r,t){r.id===e.currentDBUser.id&&(e.users[t]=e.currentDBUser)})),o.a.database().ref(c["a"].users).set(this.users).then((function(){e.pushProfileSavedMessage()}))}},watch:{"currentDBUser.level":function(e,r){r&&this.saveProfile()},"currentDBUser.goal":function(e,r){r&&this.saveProfile()}}},v=u,f=(t("c092"),t("2877")),m=Object(f["a"])(v,a,s,!1,null,"a5db0c82",null);r["default"]=m.exports},e25e:function(e,r,t){var a=t("23e7"),s=t("e583");a({global:!0,forced:parseInt!=s},{parseInt:s})},e583:function(e,r,t){var a=t("da84"),s=t("58a8").trim,n=t("5899"),o=a.parseInt,l=/^[+-]?0[Xx]/,i=8!==o(n+"08")||22!==o(n+"0x16");e.exports=i?function(e,r){var t=s(String(e));return o(t,r>>>0||(l.test(t)?16:10))}:o},fdbc:function(e,r){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);